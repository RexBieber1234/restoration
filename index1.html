<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fellowships | Restoration Christian Church</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="icon" href="pic.JPG" type="image/jpg">
  <style>
    body {
      color: white;
      background-color: #f5deb3;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }
    .nav {
      background: linear-gradient(45deg, rgb(2, 2, 218), rgb(86, 86, 209));
      padding: 10px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
     transition: all 0.5s ease;
  z-index: 999;
    }
    .nav img.nav-img {
      border-radius: 10rem;
      height: 50px;
      margin-right: 10px;
    }
    .nav-brand {
      font-size: 1.2rem;
      color: white;
      flex: 1;
      margin-right: 65px;
    }
    .nav-links {
      color: white;
      text-decoration: none;
      margin: 5px 10px;
      transition: color 0.3s ease;
    }
    .nav-links:hover { color: yellow; }

 nav.left {
  top: 0;
  left: 0;
  height: 100%;
  width: 200px;
  text-align: left;
  }

 nav.right {
  top: 0;
  right: 0;
  height: 100%;
  width: 200px;
  text-align: left;
 }

 nav.bottom {
  bottom: 0;
  top: auto;
 }

    #UserDetails {
      background: linear-gradient(45deg,#66bfbf,rgb(94, 94, 146));
      color: white;
      padding: 15px;
      font-size: 1rem;
      text-align: center;
      margin: 10 auto;
      z-index: 10;
    }
    #typewriter {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 24px;
      color: #66bfbf;
      text-align: center;
      margin: 40px auto 20px;
      max-width: 90%;
      text-shadow: 1px 1px 2px #000;
      opacity: 1;
      transition: opacity 2s ease-in-out;
    }
    .Church-cartegories {
      background-color: white;
      color: black;
      padding: 40px;
      margin: 80px auto 50px;
      width: 80%;
      max-width: 400px;
      border-radius: 20px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
    }
    .Church-cartegories h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    .Church-cartegories button {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    /* Church Categories Animation */
.church-categories {
  opacity: 0;
  transform: translateY(30px);
  animation: categoriesIn 1s ease-out forwards;
}

@keyframes categoriesIn {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.church-categories .category {
  opacity: 0;
  transform: translateY(30px);
  animation: categoriesIn 0.8s ease-out forwards;
}

.church-categories .category:nth-child(1) {
  animation-delay: 0.2s;
}
.church-categories .category:nth-child(2) {
  animation-delay: 0.4s;
}
.church-categories .category:nth-child(3) {
  animation-delay: 0.6s;
}
.church-categories .category:nth-child(4) {
  animation-delay: 0.8s;
}

    .btn1 { background-color: yellow; color: black; }
    .btn1:hover { background-color: white; color: orange; }
    .btn2 { background-color: blue; color: white; }
    .btn2:hover { background-color: white; color: blue; }
    .btn3 { background: linear-gradient(45deg, rgb(230, 230, 5), blue); color: white; }
    .btn3:hover { background: linear-gradient(45deg, blue, yellow); }
    .btn4 { background-color: orange; color: white; }
    .btn4:hover { background-color: white; color: orange; }
    .btn5 { background: linear-gradient(45deg, blue, yellow); color: white; }
    .btn5:hover { background: linear-gradient(45deg, yellow, blue, orange); }
    @media screen and (max-width: 768px) {
      .nav { flex-direction: column; align-items: flex-start; }
      .nav a { width: 100%; margin: 5px 0; }
      .Church-cartegories { width: 90%; }
    }
    .chronicles-iframe {
      background: white;
      padding: 20px;
      margin: 40px auto;
      width: 80%;
      max-width: 800px;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      text-align: center;
    }
    .chronicles-iframe iframe {
      width: 100%;
      height: 400px;
      border: none;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .chronicles-iframe button {
      width: auto;
      padding: 10px 20px;
      background: linear-gradient(45deg, blue, yellow);
      color: white;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .chronicles-iframe button:hover {
      background: linear-gradient(45deg, yellow, blue, orange);
      color: black;
    }

@keyframes slideFadeIn {
  0% {
    opacity: 0;
    transform: translateY(40px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes popIn {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Glowing button hover effect */
@keyframes glow {
  0% { box-shadow: 0 0 5px rgba(255,255,255,0.3); }
  50% { box-shadow: 0 0 20px rgba(255,255,0,0.8); }
  100% { box-shadow: 0 0 5px rgba(255,255,255,0.3); }
}

/* Apply to settings box */
#settings {
  animation: slideFadeIn 1s ease forwards;
}

/* Apply to all buttons on hover */
button:hover {
  animation: glow 1.5s ease-in-out infinite;
  transform: scale(1.05);
}

/* Update notice pop-in */
#updateNotice > div {
  animation: popIn 0.5s ease forwards;
}

/* Smooth transition for typewriter text fade */
#typewriter {
  transition: opacity 1s ease-in-out;

  /* Settings Container */
.settings-container {
  max-width: 450px;
  margin: 40px auto;
  background: linear-gradient(135deg, #ffffff, #f8f9ff);
  padding: 25px;
  border-radius: 15px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
  animation: fadeSlideIn 0.8s ease-out forwards;
}

/* Title */
.settings-container h2 {
  text-align: center;
  font-size: 1.5rem;
  color: #444;
  margin-bottom: 20px;
}

/* Labels */
.settings-container label {
  display: block;
  margin-bottom: 6px;
  font-weight: bold;
  color: #555;
}

/* Inputs, Selects */
.settings-container input,
.settings-container select {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border: 2px solid #ddd;
  border-radius: 8px;
  outline: none;
  transition: border 0.3s ease, box-shadow 0.3s ease;
  font-size: 1rem;
}

.settings-container input:focus,
.settings-container select:focus {
  border-color: #4e73df;
  box-shadow: 0 0 8px rgba(78, 115, 223, 0.4);
}

/* Save Button */
.settings-container button {
  width: 100%;
  padding: 12px;
  background: #4e73df;
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.2s ease;
}

.settings-container button:hover {
  background: #3b5dc9;
  transform: translateY(-2px);
}

/* Animation for Form */
@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(25px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

}

#searchOverlay {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  max-width: 500px;
  background: rgba(0,0,0,0.9);
  padding: 15px;
  border-radius: 10px;
  display: none;
  z-index: 10000;
  box-shadow: 0 0 20px rgba(255,255,0,0.8);
  animation: glowPulse 1.5s infinite;
}

#searchInput {
  width: 100%;
  padding: 10px;
  font-size: 1rem;
  border-radius: 8px;
  border: none;
  outline: none;
}

#searchResults {
  margin-top: 10px;
  max-height: 200px;
  overflow-y: auto;
  background: white;
  color: black;
  border-radius: 8px;
  padding: 5px;
}

#searchResults div {
  padding: 5px;
  cursor: pointer;
}

#searchResults div:hover {
  background: #ddd;
}

/* Glow animation */
@keyframes glowPulse {
  0% { box-shadow: 0 0 10px yellow; }
  50% { box-shadow: 0 0 25px orange; }
  100% { box-shadow: 0 0 10px yellow; }
}
</style>
</head>
<body>
  <div id="UserDetails"></div>
  <div class="nav" id="home">
    <img class="nav-img" src="pic.JPG" alt="Church Logo" />
    <span class="nav-brand"><i>Restoration Christian Church</i></span>
    <a class="nav-links" href="#home"><i class="fa-solid fa-house"></i> Home</a>
    <a class="nav-links" href="about.html"><i class="fa-solid fa-book"></i> About</a>
    <a class="nav-links" href="events.html"><i class="fa-solid fa-calendar-days"></i> Events</a>
    <a class="nav-links" href="join.html"><i class="fa-solid fa-user-plus"></i> Join</a>
    <a class="nav-links" href="quiz.html"><i class="fa-solid fa-puzzle-piece"></i> Bible Quiz</a>
    <a class="nav-links" href="trivia.html"><i class="fa-solid fa-brain"></i> Trivia</a>
    <a class="nav-links" href="video-call.html" target="_blank"><i class="fa-solid fa-video"></i> Video-call</a>
    <a class="nav-links" href="admin-login.html" target="_blank"><i class="fa-solid fa-user-circle"></i> Admin</a>
  </div>

  <div id="searchOverlay">
<input type="text" id="searchBox" placeholder="Search..." />
  <div id="searchResults"></div>
</div>

  <main>
    <h2 id="typewriter"></h2>
    <section class="Church-cartegories">
      <h1><i class="fa-solid fa-hands-praying"></i> Fellowships</h1>
      <a href="mens.html"><button class="btn1"><i class="fa-solid fa-person"></i> Mens' Fellowship</button></a>
      <a href="womens.html"><button class="btn2"><i class="fa-solid fa-person-dress"></i> Womens' Fellowship</button></a>
      <a href="youth.html"><button class="btn3"><i class="fa-solid fa-users"></i> Youths' Fellowship</button></a>
      <a href="junior.html"><button class="btn4"><i class="fa-solid fa-child"></i> Junior Youth</button></a>
      <a href="sunday.html"><button class="btn5"><i class="fa-solid fa-face-smile"></i> Sunday School</button></a>
    </section>
  </main>
  <div class="chronicles-iframe">
    <iframe src="chronicles.html"></iframe>
    <a href="chronicles.html">
      <button><i class="fa-solid fa-book"></i> Open Full Church Chronicles</button>
    </a>
  </div>

<!-- Update Overlay -->
<div id="updateNotice" style="
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
">
  <div style="
    background: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
    text-align: center;
  ">
    <h2>Update Available</h2>
    <p>There was an update. Please check it out.</p>
    <button onclick="goToLogin()" style="
      background: crimson;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      margin-top: 15px;
      cursor: pointer;
    ">OK</button>
  </div>
</div>

<div class="settings-container">
  <h2>Settings</h2>
  <label for="bgColor">Background Color:</label>
  <input type="color" id="bgColor">

  <label for="fellowshipID">Fellowship ID:</label>
  <input type="text" id="fellowshipID">

  <label for="navPosition">Navigation Position:</label>
  <select id="navPosition">
    <option value="default">Default</option>
    <option value="left">Left</option>
    <option value="right">Right</option>
    <option value="bottom">Bottom</option>
  </select>

  <button type="button" onclick="saveSettings()">Save</button>
</div>


<script>
  window.onload = () => {
    const isUser = localStorage.getItem("username");
    const isAdmin = localStorage.getItem("adminName");
    const rememberedUser = localStorage.getItem("rememberedUser");
    const rememberedType = localStorage.getItem("rememberedType");

    // If user previously chose "remember me"
    if (!isUser && rememberedUser && rememberedType) {
      localStorage.setItem("username", rememberedUser);
      localStorage.setItem("loginType", rememberedType);
    }

    // If still not logged in, redirect to login
    if (!isUser && !isAdmin) {
      window.location.href = "index.html";
    }
  };

  function logoutUser() {
    localStorage.removeItem("username");
    localStorage.removeItem("adminName");
    localStorage.removeItem("adminPassword");
    localStorage.removeItem("loginType");
    localStorage.removeItem("rememberedUser");
    localStorage.removeItem("rememberedType");
    localStorage.removeItem("fellowshipID");
    window.location.href = "index.html";
  }

  function initUser() {
    const username = localStorage.getItem("username");
    if (!username) return;
    const userDetails = document.getElementById("UserDetails");
    let userID = localStorage.getItem("fellowshipID");
    if (!userID) {
      const initials = username.split(" ").map(n => n[0].toUpperCase()).join("");
      const randomNum = Math.floor(100 + Math.random() * 900);
      userID = `${initials}-${randomNum}`;
      localStorage.setItem("fellowshipID", userID);
    }
    userDetails.innerHTML = `
      <i class="fa-solid fa-user"></i> <b>Name:</b> ${username}<br>
      <i class="fa-solid fa-id-badge"></i> <b>Fellowship ID:</b> ${userID}
      <button onclick="logoutUser()" style="margin-left: 20px; background: red; color: white; border: none; padding: 5px 10px; border-radius: 5px;">Logout</button>
    `;
    const speak = new SpeechSynthesisUtterance(`Welcome ${username}. Your Fellowship ID is ${userID}`);
    speak.lang = "en-US";
    window.speechSynthesis.speak(speak);
  }

  const message = "Welcome to Restoration Christian Church";
  const typewriter = document.getElementById("typewriter");
  let i = 0;
  function type() {
    if (i < message.length) {
      typewriter.innerHTML += message.charAt(i);
      i++;
      setTimeout(type, 70);
    } else {
      setTimeout(() => { typewriter.style.opacity = 0; }, 2000);
    }
  }

  window.addEventListener("DOMContentLoaded", () => {
    type();
    initUser();
  });

  window.onload = () => {
    if (localStorage.getItem("updateNotice") === "true") {
      document.getElementById("updateNotice").style.display = "flex";
    }
  };

  function redirectToLogin() {
    localStorage.removeItem("username");
    localStorage.removeItem("updateNotice");
    window.location.href = "index.html";
  }
localStorage.setItem("updateNotice", "true");


  window.onload = () => {
    if (localStorage.getItem("updateNotice") === "true") {
      document.getElementById("updateNotice").style.display = "flex";
    }
  };

  function redirectToLogin() {
    // Clear user session and update flag
    localStorage.removeItem("username");
    localStorage.removeItem("updateNotice");
    window.location.href = "index.html";
  }

</script>
<script>
window.onload = () => {
  const isUser = localStorage.getItem("username");
  const isAdmin = localStorage.getItem("adminName");

  if (!isUser && !isAdmin) {
    window.location.href = "index.html";
  }

  // Check if there's a new update for users
  if (isUser) {
    const lastSeen = localStorage.getItem("lastSeenUpdate");
    const updatedAt = localStorage.getItem("adminUpdatedAt");

    if (updatedAt && (!lastSeen || parseInt(updatedAt) > parseInt(lastSeen))) {
      document.getElementById("updateNotice").style.display = "flex";
    }
  }
};

function goToLogin() {
  localStorage.setItem("lastSeenUpdate", localStorage.getItem("adminUpdatedAt"));
  localStorage.removeItem("username");
  window.location.href = "index.html";
}


</script>

<script>
  function saveSettings() {
    const bgColor = document.getElementById('bgColorPicker').value;
    const fellowshipId = document.getElementById('fellowshipIdInput').value;
    const navPosition = document.getElementById('navPositionSelect').value;

    localStorage.setItem('bgColor', bgColor);
    localStorage.setItem('fellowshipId', fellowshipId);
    localStorage.setItem('navPosition', navPosition);

    applySettings();
    alert("Settings saved!");
  }

  function applySettings() {
    const bgColor = localStorage.getItem('bgColor');
    const fellowshipId = localStorage.getItem('fellowshipId');
    const navPosition = localStorage.getItem('navPosition');

    if (bgColor) document.body.style.backgroundColor = bgColor;

    // You can use the fellowshipId where needed
    if (fellowshipId) console.log("Fellowship ID:", fellowshipId);

    const nav = document.querySelector('nav');
    if (nav) {
      nav.className = ''; // Reset
      if (navPosition === 'left') nav.classList.add('left');
      else if (navPosition === 'right') nav.classList.add('right');
      else if (navPosition === 'bottom') nav.classList.add('bottom');
      else nav.className = '';
    }
  }

  // Load saved settings on page load
  window.onload = applySettings;

let searchVisible = false;
document.addEventListener("keydown", function(e) {
    if (e.ctrlKey && e.key.toLowerCase() === "l") {
        e.preventDefault(); // Prevent browser address bar focus
        const searchInput = document.getElementById("searchBox");
        if (searchInput) {
            searchInput.focus();
        }
    }
});

function toggleSearch() {
  const overlay = document.getElementById("searchOverlay");
  searchVisible = !searchVisible;
  overlay.style.display = searchVisible ? "block" : "none";
  if (searchVisible) document.getElementById("searchInput").focus();
}

function closeSearch() {
  document.getElementById("searchOverlay").style.display = "none";
  searchVisible = false;
}

function searchPage() {
  const query = document.getElementById("searchInput").value.toLowerCase();
  const resultsDiv = document.getElementById("searchResults");
  resultsDiv.innerHTML = "";

  if (query.trim() === "") return;

  // Get all text-containing elements
  const elements = document.querySelectorAll("body *:not(script):not(style):not(input):not(textarea)");
  let results = [];

  elements.forEach(el => {
    if (el.children.length === 0 && el.textContent.toLowerCase().includes(query)) {
      results.push({ text: el.textContent.trim(), element: el });
    }
  });

  if (results.length === 0) {
    resultsDiv.innerHTML = "<div>No matches found</div>";
    return;
  }

  results.forEach(r => {
    const div = document.createElement("div");
    div.innerHTML = r.text.replace(new RegExp(query, "gi"), match => `<mark>${match}</mark>`);
    div.onclick = () => {
      r.element.scrollIntoView({ behavior: "smooth", block: "center" });
      closeSearch();
    };
    resultsDiv.appendChild(div);
  });
}


</script>

</html>
</body>
</html>
